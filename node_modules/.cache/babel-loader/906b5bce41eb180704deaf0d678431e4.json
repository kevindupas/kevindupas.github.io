{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kevindupas/Desktop/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kevindupas/Desktop/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kevindupas/Desktop/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./App.css';import Tmdb from'./Tmdb';import MovieRow from'./components/MovieRow';import FeaturedMovie from'./components/FeaturedMovie';import Header from'./components/Header';import Heart from\"./components/icons/heart.svg\";export default(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movieList=_useState2[0],setMovieList=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),featuredData=_useState4[0],setFeaturedData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),blackHeader=_useState6[0],setBlackHeader=_useState6[1];useEffect(function(){var loadAll=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var list,originals,randomChosen,chosen,chosenInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Tmdb.getHomeList();case 2:list=_context.sent;setMovieList(list);// Pegando o Featured\noriginals=list.filter(function(i){return i.slug==='originals';});randomChosen=Math.floor(Math.random()*(originals[0].items.results.length-1));chosen=originals[0].items.results[randomChosen];_context.next=9;return Tmdb.getMovieInfo(chosen.id,'tv');case 9:chosenInfo=_context.sent;setFeaturedData(chosenInfo);case 11:case\"end\":return _context.stop();}}},_callee);}));return function loadAll(){return _ref.apply(this,arguments);};}();loadAll();},[]);useEffect(function(){var scrollListener=function scrollListener(){if(window.scrollY>10){setBlackHeader(true);}else{setBlackHeader(false);}};window.addEventListener('scroll',scrollListener);return function(){window.removeEventListener('scroll',scrollListener);};},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(Header,{black:blackHeader}),featuredData&&/*#__PURE__*/React.createElement(FeaturedMovie,{item:featuredData}),/*#__PURE__*/React.createElement(\"section\",{className:\"lists\"},movieList.map(function(item,key){return/*#__PURE__*/React.createElement(MovieRow,{key:key,title:item.title,items:item.items});})),/*#__PURE__*/React.createElement(\"footer\",null,\"Feito com \",/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"cora\\xE7\\xE3o\"},/*#__PURE__*/React.createElement(\"img\",{src:Heart,alt:\"coracao\"})),\" pelo Rodrigo junior\",/*#__PURE__*/React.createElement(\"br\",null),\"Direitos de imagem para Netflix\",/*#__PURE__*/React.createElement(\"br\",null),\"Dados pegos do site Themoviedb.org\"),movieList.length<=0&&/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://media.wired.com/photos/592744d3f3e2356fd800bf00/master/w_2000,c_limit/Netflix_LoadTime.gif\",alt:\"Carregando\"})));});","map":{"version":3,"sources":["/Users/kevindupas/Desktop/netflix/src/App.js"],"names":["React","useEffect","useState","Tmdb","MovieRow","FeaturedMovie","Header","movieList","setMovieList","featuredData","setFeaturedData","blackHeader","setBlackHeader","loadAll","getHomeList","list","originals","filter","i","slug","randomChosen","Math","floor","random","items","results","length","chosen","getMovieInfo","id","chosenInfo","scrollListener","window","scrollY","addEventListener","removeEventListener","map","item","key","title","Heart"],"mappings":"qcAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,gDAIA,eAAe,UAAM,eAEeJ,QAAQ,CAAC,EAAD,CAFvB,wCAEZK,SAFY,eAEDC,YAFC,8BAGqBN,QAAQ,CAAC,IAAD,CAH7B,yCAGZO,YAHY,eAGEC,eAHF,8BAImBR,QAAQ,CAAC,KAAD,CAJ3B,yCAIZS,WAJY,eAICC,cAJD,eAMnBX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,OAAO,0FAAG,2MAEGV,CAAAA,IAAI,CAACW,WAAL,EAFH,QAEVC,IAFU,eAGdP,YAAY,CAACO,IAAD,CAAZ,CAEA;AACIC,SANU,CAMED,IAAI,CAACE,MAAL,CAAY,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,GAAW,WAAf,EAAb,CANF,CAOVC,YAPU,CAOKC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBP,SAAS,CAAC,CAAD,CAAT,CAAaQ,KAAb,CAAmBC,OAAnB,CAA2BC,MAA3B,CAAoC,CAArD,CAAX,CAPL,CAQVC,MARU,CAQDX,SAAS,CAAC,CAAD,CAAT,CAAaQ,KAAb,CAAmBC,OAAnB,CAA2BL,YAA3B,CARC,uBASSjB,CAAAA,IAAI,CAACyB,YAAL,CAAkBD,MAAM,CAACE,EAAzB,CAA6B,IAA7B,CATT,QASVC,UATU,eAUdpB,eAAe,CAACoB,UAAD,CAAf,CAVc,uDAAH,kBAAPjB,CAAAA,OAAO,0CAAb,CAaAA,OAAO,GACR,CAfQ,CAeN,EAfM,CAAT,CAiBAZ,SAAS,CAAC,UAAM,CACd,GAAM8B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAGC,MAAM,CAACC,OAAP,CAAiB,EAApB,CAAwB,CACtBrB,cAAc,CAAC,IAAD,CAAd,CACD,CAFD,IAEO,CACLA,cAAc,CAAC,KAAD,CAAd,CACD,CACF,CAND,CAQAoB,MAAM,CAACE,gBAAP,CAAwB,QAAxB,CAAkCH,cAAlC,EACA,MAAO,WAAM,CACXC,MAAM,CAACG,mBAAP,CAA2B,QAA3B,CAAqCJ,cAArC,EACD,CAFD,CAGD,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACE,2BAAK,SAAS,CAAC,MAAf,eAEE,oBAAC,MAAD,EAAQ,KAAK,CAAEpB,WAAf,EAFF,CAIGF,YAAY,eACX,oBAAC,aAAD,EAAe,IAAI,CAAEA,YAArB,EALJ,cAQE,+BAAS,SAAS,CAAC,OAAnB,EACGF,SAAS,CAAC6B,GAAV,CAAc,SAACC,IAAD,CAAOC,GAAP,qBACb,oBAAC,QAAD,EAAU,GAAG,CAAEA,GAAf,CAAoB,KAAK,CAAED,IAAI,CAACE,KAAhC,CAAuC,KAAK,CAAEF,IAAI,CAACb,KAAnD,EADa,EAAd,CADH,CARF,cAcE,4DACY,4BAAM,IAAI,CAAC,KAAX,CAAiB,aAAW,eAA5B,eAAsC,2BAAK,GAAG,CAAEgB,KAAV,CAAiB,GAAG,CAAC,SAArB,EAAtC,CADZ,qCAC6G,8BAD7G,gDAEiC,8BAFjC,sCAdF,CAoBGjC,SAAS,CAACmB,MAAV,EAAoB,CAApB,eACD,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,GAAG,CAAC,oGAAT,CAA8G,GAAG,CAAC,YAAlH,EADF,CArBF,CADF,CA4BD,CAlED","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css'\nimport Tmdb from './Tmdb';\nimport MovieRow from './components/MovieRow';\nimport FeaturedMovie from './components/FeaturedMovie';\nimport Header from './components/Header';\n\nimport Heart from './components/icons/heart.svg';\n\nexport default () => {\n\n  const [movieList, setMovieList] = useState([]);\n  const [featuredData, setFeaturedData] = useState(null);\n  const [blackHeader, setBlackHeader] = useState(false);\n\n  useEffect(() => {\n    const loadAll = async () => {\n      // pegando a lista TOTAL\n      let list = await Tmdb.getHomeList();\n      setMovieList(list);\n\n      // Pegando o Featured\n      let originals = list.filter(i => i.slug === 'originals');\n      let randomChosen = Math.floor(Math.random() * (originals[0].items.results.length - 1));\n      let chosen = originals[0].items.results[randomChosen];\n      let chosenInfo = await Tmdb.getMovieInfo(chosen.id, 'tv');\n      setFeaturedData(chosenInfo);\n    }\n\n    loadAll();\n  }, []);\n\n  useEffect(() => {\n    const scrollListener = () => {\n      if(window.scrollY > 10) {\n        setBlackHeader(true);\n      } else {\n        setBlackHeader(false);\n      }\n    }\n\n    window.addEventListener('scroll', scrollListener);\n    return () => {\n      window.removeEventListener('scroll', scrollListener);\n    }\n  }, []);\n\n  return (\n    <div className=\"page\">\n\n      <Header black={blackHeader} />\n\n      {featuredData &&\n        <FeaturedMovie item={featuredData} />\n      }\n\n      <section className=\"lists\">\n        {movieList.map((item, key) => (\n          <MovieRow key={key} title={item.title} items={item.items} />\n        ))}\n      </section>\n\n      <footer>\n        Feito com <span role=\"img\" aria-label=\"coração\"><img src={Heart} alt=\"coracao\"/></span> pelo Rodrigo junior<br />\n        Direitos de imagem para Netflix<br/>\n        Dados pegos do site Themoviedb.org\n      </footer>\n\n      {movieList.length <= 0 &&\n      <div className=\"loading\">\n        <img src=\"https://media.wired.com/photos/592744d3f3e2356fd800bf00/master/w_2000,c_limit/Netflix_LoadTime.gif\" alt=\"Carregando\"/>\n      </div>\n      }\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}